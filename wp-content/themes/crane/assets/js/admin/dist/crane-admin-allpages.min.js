!function(n){"use strict";n(function(){n(this).find(".crane-theme-migrate__button").on("click",function(e){e.preventDefault();var a=n(this);a.hasClass("disabled")||(a.addClass("disabled"),n.ajax({type:"POST",url:ajaxurl,dataType:"json",data:{action:"crane_ajax_start_migrate"},error:function(e){a.removeClass("disabled"),n(".crane-theme-migrate__notice-wrapper").append(e.message)},success:function(e){e.code<1&&(n(".crane-theme-migrate__notice-wrapper").remove(),alert(e.message)),1==e.code&&n(".crane-theme-migrate__notice-wrapper").html(e.message)}.bind(this)}))}),n(this).on("click",".crane-theme-migrate__notice-info .notice-dismiss",function(){n.ajax(ajaxurl,{type:"POST",data:{action:"crane_dismissed_migration_notice_info"}})}),n(this).on("click",".crane-migrate-debug-action-btn",function(){var a=n(this).attr("data-action"),t=n(this).attr("data-version");n.ajax({type:"POST",url:ajaxurl,dataType:"json",data:{action:a,version:t},error:function(e){console.log("ajax error or action not implemented: "+a),alert("ajax error")},success:function(e){"crane_migrate_log"===a?(n(".crane-debug-log-block-wrapper").removeClass("crane-debug-log-hidden"),n("#crane-debug-log-block .crane-debug-log-block-title span").html(t),n("#crane-debug-log-block .crane-debug-log-block-content").html(e.message)):window.location.reload(!1)}.bind(this)})})})}(jQuery),function(o){"use strict";o(function(){var e=o(".gm-needs-to-update-first"),a=o(".crane-admin-page"),t=o(".gm-dashboard-container"),n=o(".gm-dashboard-header__btn-group"),r='<div class="gm-needs-to-update-placeholder"><p>To prevent data corruption please, first update the <strong>Groovy menu</strong> to version 1.5 or higher.</p></div>';a.length&&e.length&&a.append(r),t.length&&e.length&&n.prepend(r)})}(jQuery);