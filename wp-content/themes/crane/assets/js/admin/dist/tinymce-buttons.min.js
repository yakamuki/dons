!function(){"use strict";tinymce.PluginManager.add("quote_with_author",function(o,t){o.addButton("quote_with_author",{title:crane_js_l10n.quote_with_author,cmd:"quote_with_author",image:t+"/../../../images/quote-circle.png"}),o.addCommand("quote_with_author",function(){var t=o.selection.getContent({format:"html"});0!==t.length?o.windowManager.open({title:crane_js_l10n.quote_with_author,body:[{type:"textbox",name:"quote",placeholder:crane_js_l10n.quote_text,value:t,multiline:!0,minWidth:.65*jQuery(window).width(),minHeight:120},{type:"textbox",name:"authorName",placeholder:crane_js_l10n.quote_author_name,multiline:!1,minWidth:.65*jQuery(window).width(),minHeight:30},{type:"textbox",name:"authorUrl",placeholder:crane_js_l10n.quote_author_url,multiline:!1,minWidth:.65*jQuery(window).width(),minHeight:30}],onsubmit:function(t){if(t.data.quote){var e=t.data.quote,a="";t.data.authorName&&!t.data.authorUrl?a=t.data.authorName:!t.data.authorName&&t.data.authorUrl?a='<a href="'+t.data.authorUrl+'">'+t.data.authorUrl+"</a>":t.data.authorName&&t.data.authorUrl&&(a='<a href="'+t.data.authorUrl+'">'+t.data.authorName+"</a>"),e="<blockquote>"+e+(a=a?" <br><cite>"+a+"</cite>":"")+"</blockquote>",o.execCommand("mceReplaceContent",!1,e)}else alert(crane_js_l10n.quote_must_not_empty)}}):alert(crane_js_l10n.select_some_quote_text)})})}();