!function(l){"use strict";l(function(){var e;function n(e){var t,a=e.closest(".grooni-metabox-field").find(".grooni-meta-field-file-tpl").clone();return a.removeClass("grooni-meta-field-file-tpl"),l(".grooni-meta-field-file-container").append(a),l(t=a).find(".grooni-meta-upload-btn").on("click",function(e){var t=l(this);e.preventDefault();var a=wp.media({title:"Upload Image",multiple:!1}).open().on("select",function(){var e=a.state().get("selection").first().toJSON();t.closest(".grooni-meta-field-file").find(".grooni-meta-upload-input").val(e.id).data("url",e.url).change()});return!1}),l(t).find(".grooni-meta-remove-btn").on("click",function(){return confirm(crane_js_l10n.remove_image)&&l(this).closest(".grooni-meta-field-file").remove(),!1}),l(t).find(".grooni-meta-upload-input").on("change",function(){""!=l(this).val()?l(this).closest(".grooni-meta-field-file").addClass("grooni-meta__module__media--selected").find(".grooni-meta-media-preview").html('<img src="'+l(this).data("url")+'" />'):l(this).closest(".grooni-meta-field-file").removeClass("grooni-meta__module__media--selected").find(".grooni-meta-media-preview").html("")}).change(),a}function c(o){var e=l(o).data("condition"),s=!0;l.each(e,function(e,t){var a,n,r,i=o.closest(".grooni-metabox").find("[name="+e+"]");n=t,r=!1,2==(a=i).length&&(a=a.not('[type="hidden"]')),"checkbox"==a.attr("type")?(r=a.is(":checked"),n||(r=!r)):r=l.isArray(n)?-1<l.inArray(a.val(),n):a.val()==n,r||(s=!1),o.closest(".grooni-metabox").find('[name="'+e+'"]').on("change",function(){c(o)})}),o.toggle(s)}l(".grooni-metabox-field select").each(function(){var t=l(this),e=l(this).children("option").length;t.addClass("select-hidden"),t.wrap('<div class="select"></div>'),t.after('<div class="select-styled"></div>');var a=t.next("div.select-styled");a.text(t.children("option:selected").eq(0).text());for(var n=l("<ul />",{class:"select-options"}).insertAfter(a),r=0;r<e;r++)l("<li />",{text:t.children("option").eq(r).text(),rel:t.children("option").eq(r).val()}).appendTo(n);var i=n.children("li");a.on("click",function(e){e.stopPropagation(),l("div.select-styled.active").each(function(){l(this).removeClass("active").next("ul.select-options").hide()}),l(this).toggleClass("active").next("ul.select-options").toggle()}),i.on("click",function(e){e.stopPropagation(),a.text(l(this).text()).removeClass("active"),t.val(l(this).attr("rel")).change(),n.hide()}),l(document).on("click",function(){a.removeClass("active"),n.hide()})}),(e=l("#grooni-metabox__header-types__options")).on("change.header",function(){var e=l(this).data("align"),t=l(this).data("toolbar"),a=l(this).data("style"),n="2"==a||"3"==a,r="3"==a;r&&(t=!1),l(".grooni-metabox__header-types__options__align--center").toggle(!n),l(".grooni-metabox__header-types__options__toolbar-toggle").toggle(!r),l(".grooni-metabox__header-types__options__align > span").removeClass("active"),l('.grooni-metabox__header-types__options__align > span[rel="'+e+'"]').addClass("active"),l(".grooni-metabox__header-types__options__list > span").removeClass("active"),l('.grooni-metabox__header-types__options__list > span[rel="'+a+'"]').addClass("active"),t&&l("#switch-toolbar-toggle").attr("checked",!0),l("#grooni-metabox__header-types").attr("class","").addClass("style-"+a+"-align-"+e+" toolbar-"+t),l(this).val(JSON.stringify({align:e,style:a,toolbar:t.toString()}))}),l(".grooni-metabox__header-types__options__align span").on("click",function(){e.data("align",l(this).attr("rel")).trigger("change.header")}),l("#switch-toolbar-toggle").on("click",function(){e.data("toolbar",l(this).is(":checked")).trigger("change.header")}),l(".grooni-metabox__header-types__options__list span").on("click",function(){e.data("style",l(this).attr("rel")).trigger("change.header")}),e.trigger("change.header"),l(".grooni-metabox__module[data-condition]").each(function(){var a=l(this),e=l(this).data("condition");l.isArray(e)&&l.isArray(e[0])?l.each(e,function(e,t){createFieldListener(a,t)}):createFieldListener(a,e)}),l(".gm-header").change(),l(".grooni-metabox-row :input").on("change",function(){window.onbeforeunload=function(){return crane_js_l10n.save_alert}}),l("#post").on("submit",function(){window.onbeforeunload=function(){}}),l(".grooni-meta-field-file-add").on("click",function(){return n(l(this)).find(".grooni-meta-upload-btn").trigger("click"),!1}),l(".grooni-meta-field-file-container").each(function(){var e=l(this).data("images"),a=l(this);l.each(e,function(e,t){n(a).find(".grooni-meta-upload-input").val(t.id).data("url",t.path[0]).change()})}),l(".grooni-metabox-row[data-condition]").each(function(){c(l(this))}),l(".grooni-metabox .crane-radio-group .crane-radio__triple").on("change",function(){var e=l(this).attr("name").split("__");e=e[1];var t=l('.grooni-metabox .crane-radio-group input[name="triple-name__'+e+'"]:checked').val();l('.grooni-metabox input[name="'+e+'"]').val(t).change()}),l(".grooni-metabox .crane-meta-field-number").each(function(){var e=l(this),t=e.find(".crane-meta-field-number__switch"),a=e.find(".crane-meta-field-number__front"),n=e.find(".crane-meta-field-number__value");n.val()&&t.prop("checked",!1),t.prop("checked")&&(a.hide(),n.val("")),t.on("change",function(){l(this).prop("checked")?(a.hide(),a.val(""),n.val("")):a.show()}),a.on("change",function(){n.val(l(this).val())})})})}(jQuery),function(n){"use strict";n(function(){try{n('#crane-dashboard-search input[name="s"]').autocomplete({source:function(e,t){n.ajax({url:"",dataType:"json",data:{page:"crane-theme-dashboard",term:this.term},success:function(e){t(n.map(e.results,function(e){return{label:e.title,value:e.title,url:e.url}}))},error:function(e,t,a){}})},search:function(e){n(e.currentTarget).addClass("sa_searching")},create:function(){},select:function(e,t){if("#"===t.item.url)return!0},open:function(e){var a=n(this).data("uiAutocomplete");a.menu.element.find("a").each(function(){var e=n(this),t=n.trim(a.term).split(" ").join("|");e.html(e.text().replace(new RegExp("("+t+")","gi"),'<span class="sa-found-text">$1</span>'))}),n(e.target).removeClass("sa_searching")},close:function(){}})}catch(e){}})}(jQuery),function(u){"use strict";u(function(){var t,a,n;function r(e){var t=[];u("#crane-import").find("input.crane-import-checkbox:checked").each(function(){t.push(u(this).val())}),u("#crane-import").find(".crane-import-page-inner.selected").each(function(){t.push(u(this).attr("data-page"))}),e&&t.push("all-home"),u(".crane-import-page-confirm-block").show(),u.ajax({type:"POST",url:ajaxurl,dataType:"json",data:{action:"crane_check_necessary_plugins",steps:JSON.stringify(t)},error:function(){},success:function(e){u(".crane-import-page-confirm-text--plugins").html(e)}.bind(this)})}"import-finish"==(t="step",a=null,n=[],location.search.substr(1).split("&").forEach(function(e){(n=e.split("="))[0]===t&&(a=decodeURIComponent(n[1]))}),a)&&(u("#crane-import").fadeOut(),u(".crane-import-page-btn").attr("disabled",!0).addClass("crane-import-page-btn--disabled").css("background","#ddd"),u(".crane-import-progress-bar-container").addClass("importing"),u("#import-progress-bar").width("100%"),u(".import-progress-bar-percentage").html("100%"),u(".crane-import-progress-bar-container").removeClass("importing"),u(".import-result").fadeIn()),u(".crane-import-page-import-cancel").on("click",function(){u("#crane-import").find("input.crane-import-checkbox:checked").each(function(){u(this).attr("checked",!1)}),u("#crane-import").find(".crane-import-page-inner.selected").each(function(){var e=u(this);e.removeClass("selected"),e.find(".crane-import-page-select-btn").text(crane_js_l10n.select)}),r(!1)}),r(!1),u(".crane-import-radio").on("change",function(){u(this).prop("checked")&&u(this).hasClass("crane-import-radio--custom")?(u(".crane-import-wrapper").hide().removeClass("hidden"),u(".crane-import-wrapper").fadeIn(),r(!1)):(u(".crane-import-wrapper").fadeOut(),r(!0))}),u("#all-home").on("click",function(){u(this).prop("checked")?(u(".crane-import-page-inner").addClass("selected"),u(".crane-import-page-select-btn").text(crane_js_l10n.unselect)):(u(".crane-import-page-inner").removeClass("selected"),u(".crane-import-page-select-btn").text(crane_js_l10n.select))}),u(".crane-import-page-select-btn").on("click",function(){if(u(this).closest("form").hasClass("process"))return!1;var e=u(this);e.closest(".crane-import-page-inner").hasClass("selected")?(e.closest(".crane-import-page-inner").removeClass("selected"),e.text(crane_js_l10n.select),u("#all-home").prop("checked",!1)):(e.closest(".crane-import-page-inner").addClass("selected"),e.text(crane_js_l10n.unselect)),r(!1)}),u(".crane-import-checkbox").on("change",function(){r(!1)}),u("#crane-import").on("submit",function(){var e=crane_js_l10n.are_u_sure;if(!confirm(e))return!1;u(this).addClass("process").slideUp(),u(this).find(":input").attr("readonly",!0),u(this).find(":input, button").on("click",function(){return!1}),u(".crane-import-page-btn").attr("disabled",!0).addClass("crane-import-page-btn--disabled").css("background","#ddd");var s=u(this).find(".crane-import-radio:checked").val(),c=!0,l=[];if(l.push("dummy"),l.push("plugins"),l.push("plugins_activate"),"import-all"===s)c=!1,l.push("attachment"),l.push("prexml"),l.push("shop-attributes"),u(this).find("input.crane-import-checkbox").each(function(){l.push(u(this).val())}),l.push("additional_menus"),l.push("convertplug");else{var t=!1;if(u(this).find("input.crane-import-checkbox:checked").each(function(){"no"===u(this).attr("data-is_preset")&&"all-home"!==u(this).val()&&(c=!1)}),u(this).find(".crane-import-page-inner.selected").each(function(){"no"===u(this).attr("data-is_preset")&&(c=!1)}),c)u(this).find("input.crane-import-checkbox:checked").each(function(){"shop"===u(this).val()&&l.push("shop-attributes"),l.push(u(this).val())}),u(this).find(".crane-import-page-inner.selected").each(function(){l.push(u(this).data("page"))});else{l.push("attachment"),l.push("prexml");var a=!1;u(this).find("input.crane-import-checkbox:checked").each(function(){"shop"===u(this).val()&&l.push("shop-attributes"),"all-home"===u(this).val()&&(t=a=!0),l.push(u(this).val())}),a||u(this).find(".crane-import-page-inner.selected").each(function(){"cargo"!=u(this).data("page")&&"education"!=u(this).data("page")&&"barber"!=u(this).data("page")||(t=!0),l.push(u(this).data("page")),"pages_home-9"==u(this).data("page")&&l.push("menu/second_menu")}),t&&l.push("convertplug")}}l.push("import_all_after");var d=l.length,p=!1;return function t(){var e=l.length,a=l.shift(),n=100;if(0<e&&(n=100-Math.ceil(e/d*100)),u(".crane-import-progress-bar-container").addClass("importing"),u("#import-progress-bar").width(n+"%"),u(".import-progress-bar-percentage").html(n+"%"),a){var r=ajaxurl,i=c?"grooni_theme_addons_import_preset":"grooni_theme_addons_import_part",o="";switch(a){case"plugins_activate":r="?page=crane_import",i="";break;case"plugins":o=l}u.ajax({url:r,type:"post",data:{action:i,content:a,steps:o,type:s},success:function(e){p||(p=!0),e.hasOwnProperty("status")&&void 0!==e.status&&"critical_error"==e.status?(u("#crane-import-status").css({color:"red"}).text(e.message),alert(e.message)):t()},error:function(e){e.hasOwnProperty("responseJSON")&&e.responseJSON.hasOwnProperty("status")&&"critical_error"===e.responseJSON.status?(u("#crane-import-status").css({color:"red"}).text(e.responseJSON.message),alert(e.responseJSON.message)):t()}})}else u(location).attr("search",u(location).attr("search")+"&step=import-finish")}(),!1}),u("#crane-import-log .crane-import-log--load").on("click",function(e){e.preventDefault(),u.ajax({url:ajaxurl,type:"post",data:{action:"grooni_theme_addons_get_import_info"},success:function(e){var t=u("#crane-import-log .crane-import-log--load");e.message?(u(".crane-import-log-inner").remove(),u("#crane-import-log").append('<div class="crane-import-log-inner"></div>'),u(".crane-import-log-inner").append(e.message)):u("#crane-import-log").text("").append(t)},error:function(){}})})})}(jQuery),function(e){"use strict";jQuery(function(){var s;document.onmouseover=function(e){var t=e.target,a=t.getAttribute("data-tooltip");if(a){var n=document.createElement("div");n.className="ct-tooltip",n.innerHTML=a,document.body.appendChild(n);var r=t.getBoundingClientRect(),i=r.left+(t.offsetWidth-n.offsetWidth)/2;i<0&&(i=0);var o=r.top-n.offsetHeight-10;o<0&&(o=r.top+t.offsetHeight+5),n.style.left=i+"px",n.style.top=o+"px",s=n}},document.onmouseout=function(e){s&&(document.body.removeChild(s),s=null)}})}(),function(e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):(window.WatchJS=e(),window.watch=window.WatchJS.watch,window.unwatch=window.WatchJS.unwatch,window.callWatchers=window.WatchJS.callWatchers)}(function(){var o={noMore:!1,useDirtyCheck:!1},s=[],c=[],i=[],l=!1;try{l=Object.defineProperty&&Object.defineProperty({},"x",{})}catch(e){}var d=function(e){return e&&"[object Function]"=={}.toString.call(e)},u=function(e){return"[object Array]"===Object.prototype.toString.call(e)},h=function(e){return"[object Object]"==={}.toString.apply(e)},p=function(e,t){var a=[],n=[];if("string"!=typeof e&&"string"!=typeof t){if(u(e))for(var r=0;r<e.length;r++)void 0===t[r]&&a.push(r);else for(var i in e)e.hasOwnProperty(i)&&void 0===t[i]&&a.push(i);if(u(t))for(var o=0;o<t.length;o++)void 0===e[o]&&n.push(o);else for(var s in t)t.hasOwnProperty(s)&&void 0===e[s]&&n.push(s)}return{added:a,removed:n}},_=function(e){if(null==e||"object"!=typeof e)return e;var t=e.constructor();for(var a in e)t[a]=e[a];return t},m=function(t,a,n){try{Object.defineProperty(t,a,{enumerable:!1,configurable:!0,writable:!1,value:n})}catch(e){t[a]=n}},f=function(e,t,a){c[c.length]={prop:t,object:e,orig:_(e[t]),callback:a}},g=function(e,t,a,n){if("string"!=typeof e&&(e instanceof Object||u(e))){if(u(e)){if(j(e,"__watchall__",t,a),void 0===a||0<a)for(var r=0;r<e.length;r++)g(e[r],t,a,n)}else{var i=[];for(r in e)"$val"==r||!l&&"watchers"===r||Object.prototype.hasOwnProperty.call(e,r)&&i.push(r);v(e,i,t,a,n)}n&&D(e,"$$watchlengthsubjectroot",t,a)}},v=function(e,t,a,n,r){if("string"!=typeof e&&(e instanceof Object||u(e)))for(var i=0;i<t.length;i++){var o=t[i];b(e,o,a,n,r)}},b=function(e,t,a,n,r){"string"!=typeof e&&(e instanceof Object||u(e))&&(d(e[t])||(null!=e[t]&&(void 0===n||0<n)&&g(e[t],a,void 0!==n?n-1:n),j(e,t,a,n),r&&(void 0===n||0<n)&&D(e,t,a,n)))},e=function(e,n){if(!(e instanceof String)&&(e instanceof Object||u(e)))if(u(e)){for(var t=["__watchall__"],a=0;a<e.length;a++)t.push(a);y(e,t,n)}else{var r=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&(e[a]instanceof Object?r(e[a]):t.push(a));y(e,t,n)};r(e)}},y=function(e,t,a){for(var n in t)t.hasOwnProperty(n)&&T(e,t[n],a)},t=[],a=null;function n(){a=null;for(var e=0;e<t.length;e++)t[e]();t.length=0}var w=function(){return a||(a=setTimeout(n)),a},x=function(e){null==a&&w(),t[t.length]=e},k=function(i,o,e,t){var s=null,c=-1,l=u(i);g(i,function(e,t,a,n){var r=w();if(c!==r&&(c=r,(s={type:"update"}).value=i,s.splices=null,x(function(){o.call(this,s),s=null})),l&&i===this&&null!==s){if("pop"===t||"shift"===t)a=[],n=[n];else if("push"===t||"unshift"===t)a=[a],n=[];else if("splice"!==t)return;s.splices||(s.splices=[]),s.splices[s.splices.length]={index:e,deleteCount:n?n.length:0,addedCount:a?a.length:0,added:a,deleted:n}}},1==e?void 0:0,t)},r=function(e,t,i,o,s){e&&t&&(b(e,t,function(e,t,a,n){var r={type:"update"};r.value=a,r.oldvalue=n,(o&&h(a)||u(a))&&k(a,i,o,s),i.call(this,r)},0),(o&&h(e[t])||u(e[t]))&&k(e[t],i,o,s))},j=function(l,d,e,p){var t=!1,a=u(l);l.watchers||(m(l,"watchers",{}),a&&P(l,function(e,t,a,n){if(N(l,e,t,a,n),0!==p&&a&&(h(a)||u(a))){var r,i,o,s,c=l.watchers[d];for((s=l.watchers.__watchall__)&&(c=c?c.concat(s):s),o=c?c.length:0,r=0;r<o;r++)if("splice"!==t)g(a,c[r],void 0===p?p:p-1);else for(i=0;i<a.length;i++)g(a[i],c[r],void 0===p?p:p-1)}})),l.watchers[d]||(l.watchers[d]=[],a||(t=!0));for(var n=0;n<l.watchers[d].length;n++)if(l.watchers[d][n]===e)return;if(l.watchers[d].push(e),t){var i=l[d],r=function(e,t){var a=i;if(i=e,0!==p&&l[d]&&(h(l[d])||u(l[d]))&&!l[d].watchers){var n,r=l.watchers[d].length;for(n=0;n<r;n++)g(l[d],l.watchers[d][n],void 0===p?p:p-1)}W(l,d)?z(l,d):o.noMore||a!==e&&(t?N(l,d,"set",e,a):C(l,d,"set",e,a),o.noMore=!1)};o.useDirtyCheck?f(l,d,r):function(t,a,n,r){try{Object.observe(t,function(e){e.forEach(function(e){e.name===a&&r(e.object[e.name])})})}catch(e){try{Object.defineProperty(t,a,{get:n,set:function(e){r.call(this,e,!0)},enumerable:!0,configurable:!0})}catch(e){try{Object.prototype.__defineGetter__.call(t,a,n),Object.prototype.__defineSetter__.call(t,a,function(e){r.call(this,e,!0)})}catch(e){f(t,a,r)}}}}(l,d,function(){return i},r)}},C=function(e,t,a,n,r){if(void 0!==t){var i,o,s=e.watchers[t];(o=e.watchers.__watchall__)&&(s=s?s.concat(o):o),i=s?s.length:0;for(var c=0;c<i;c++)s[c].call(e,t,a,n,r)}else for(var t in e)e.hasOwnProperty(t)&&C(e,t,a,n,r)},O=["pop","push","reverse","shift","sort","slice","unshift","splice"],S=function(s,c,l,d){m(s,l,function(){var e,t,a,n,r=0;if("splice"===l){var i=arguments[0],o=i+arguments[1];for(a=s.slice(i,o),t=[],e=2;e<arguments.length;e++)t[e-2]=arguments[e];r=i}else t=0<arguments.length?arguments[0]:void 0;return n=c.apply(s,arguments),"slice"!==l&&("pop"===l?(a=n,r=s.length):"push"===l?r=s.length-1:"shift"===l?a=n:"unshift"!==l&&void 0===t&&(t=n),d.call(s,r,l,t,a)),n})},P=function(e,t){if(d(t)&&e&&!(e instanceof String)&&u(e))for(var a,n=O.length;n--;)S(e,e[a=O[n]],a,t)},T=function(e,t,a){if(e.watchers[t])if(void 0===a)delete e.watchers[t];else for(var n=0;n<e.watchers[t].length;n++){e.watchers[t][n]==a&&e.watchers[t].splice(n,1)}M(e,t,a),$(e,t)},W=function(e,t){return e.watchers&&(e.watchers.__wjs_suspend__||e.watchers["__wjs_suspend__"+t])},z=function(e,t){x(function(){delete e.watchers.__wjs_suspend__,delete e.watchers["__wjs_suspend__"+t]})},J=null,N=function(e,t,a,n,r){i[i.length]={obj:e,prop:t,mode:a,newval:n,oldval:r},null===J&&(J=setTimeout(A))},A=function(){var e=null;J=null;for(var t=0;t<i.length;t++)e=i[t],C(e.obj,e.prop,e.mode,e.newval,e.oldval);e&&(i=[],e=null)},Q=function(e,t){var a,n=!0;if(e!==t)if(h(e)){for(a in e)if((l||"watchers"!==a)&&e[a]!==t[a]){n=!1;break}}else n=!1;return n},D=function(e,t,a,n){var r;r=_("$$watchlengthsubjectroot"===t?e:e[t]),s.push({obj:e,prop:t,actual:r,watcher:a,level:n})},M=function(e,t,a){for(var n=0;n<s.length;n++){var r=s[n];r.obj==e&&r.prop==t&&r.watcher==a&&s.splice(n,1)}},$=function(e,t){for(var a=0;a<c.length;a++){var n=c[a],r=n.object.watchers;n.object==e&&n.prop==t&&r&&(!r[t]||0==r[t].length)&&c.splice(a,1)}};return setInterval(function(){for(var e=0;e<s.length;e++){var t=s[e];if("$$watchlengthsubjectroot"===t.prop){var a=p(t.obj,t.actual);(a.added.length||a.removed.length)&&(a.added.length&&v(t.obj,a.added,t.watcher,t.level-1,!0),t.watcher.call(t.obj,"root","differentattr",a,t.actual)),t.actual=_(t.obj)}else{if((a=p(t.obj[t.prop],t.actual)).added.length||a.removed.length){if(a.added.length)for(var n=0;n<t.obj.watchers[t.prop].length;n++)v(t.obj[t.prop],a.added,t.obj.watchers[t.prop][n],t.level-1,!0);C(t.obj,t.prop,"differentattr",a,t.actual)}t.actual=_(t.obj[t.prop])}}var r,i;if(0<c.length)for(e=0;e<c.length;e++)i=(r=c[e]).object[r.prop],Q(r.orig,i)||(r.orig=_(i),r.callback(i))},50),o.watch=function(){d(arguments[1])?g.apply(this,arguments):u(arguments[1])?v.apply(this,arguments):b.apply(this,arguments)},o.unwatch=function(){d(arguments[1])?e.apply(this,arguments):u(arguments[1])?y.apply(this,arguments):T.apply(this,arguments)},o.callWatchers=C,o.suspend=function(e,t){if(e.watchers){var a="__wjs_suspend__"+(void 0!==t?t:"");e.watchers[a]=!0}},o.onChange=function(){(d(arguments[2])?r:k).apply(this,arguments)},o}),function(i){"use strict";i(function(){"undefined"!=typeof redux&&(watch(redux,"options",function(){i("#crane_backup_import_code_textarea").val(JSON.stringify(redux.options))},6,!0),redux.field_objects=redux.field_objects||{},redux.field_objects.crane_backup_import=redux.field_objects.crane_backup_import||{},redux.field_objects.crane_backup_import.init=function(e){e||(e=i(document).find(".redux-group-tab:visible").find(".redux-container-crane_backup_import:visible")),i(e).each(function(){var r=i(this),e=r;r.hasClass("redux-field-container")||(e=r.parents(".redux-field-container:first")),e.is(":hidden")||e.hasClass("redux-field-init")&&(e.removeClass("redux-field-init"),r.each(function(){i(this).find(".crane-backup_btn_save").on("click",function(e){e.preventDefault();var t=i(this);if(!t.hasClass("disabled")){var a=r.find(".crane-backup_copy_status").hasClass("crane_backup_is_empty");if(a||(a=confirm(crane_js_l10n.are_u_sure)),a){t.addClass("disabled");var n=r.find("#crane_backup_import_salt").val();i.ajax({type:"POST",url:ajaxurl,dataType:"json",data:{action:"crane_backup_btn_save",crane_salt:n},error:function(){t.removeClass("disabled"),alert(redux.ajax.alert)},success:function(e){e.success&&(t.removeClass("disabled"),r.find(".crane-backup_copy_status").html(e.data.status).removeClass("crane_backup_is_empty"),r.find(".crane-backup_btn_restore").removeClass("hidden")),alert(e.data.message)}.bind(this)})}}}),i(this).find(".crane-backup_btn_restore").on("click",function(e){e.preventDefault();var t=i(this);if(!t.hasClass("disabled")&&confirm(crane_js_l10n.are_u_sure)){t.addClass("disabled");var a=r.find("#crane_backup_import_salt").val();i.ajax({type:"POST",url:ajaxurl,dataType:"json",data:{action:"crane_backup_btn_restore",crane_salt:a},error:function(){t.removeClass("disabled"),alert(redux.ajax.alert)},success:function(e){e.success&&location.reload(!0),t.removeClass("disabled"),alert(e.data.message)}.bind(this)})}}),i(this).find(".crane-backup_btn_import").on("click",function(e){e.preventDefault();var t=i(this);if(!t.hasClass("disabled")&&confirm(crane_js_l10n.are_u_sure)){t.addClass("disabled");var a=r.find("#crane_backup_import_salt").val(),n=r.find("#crane_backup_import_code_textarea").val();i.ajax({type:"POST",url:ajaxurl,dataType:"json",data:{action:"crane_backup_btn_import",import_data:n,crane_salt:a},error:function(){t.removeClass("disabled"),alert(redux.ajax.alert)},success:function(e){e.success&&location.reload(!0),t.removeClass("disabled"),alert(e.data.message)}.bind(this)})}})}))})})})}(jQuery),function(o){"use strict";var e=function(){this.sidebarsWrapper=o(".widget-liquid-right"),this.customSidebars=o("#widgets-right .sidebar-crane-custom-sidebar"),this.initForm(),this.initCustomWidgets(),this.bindEvents()};e.prototype={initForm:function(){this.sidebarsWrapper.append(o(".crane-sb__add-new-wrapper")),this.nonce=this.sidebarsWrapper.find('input[name="crane-sb__actions_nonce"]').val()},initCustomWidgets:function(){this.customSidebars.append('<span class="crane-sb__btn-edit" title="'+crane_js_l10n.edit_sidebar_btn+'"></span><span class="crane-sb__btn-delete" title="'+crane_js_l10n.delete_sidebar_btn+'"></span>')},bindEvents:function(){this.sidebarsWrapper.on("click",".crane-sb__btn-delete",o.proxy(this.deleteSidebar,this)),this.sidebarsWrapper.on("click",".crane-sb__btn-edit",o.proxy(this.editSidebar,this)),this.sidebarsWrapper.on("click",".crane-sb__add-new",o.proxy(this.addNewBtn,this)),this.sidebarsWrapper.on("click","#crane-sb__create-new-btn",o.proxy(this.createSidebar,this))},createSidebar:function(){var e=o("#crane-sb__name").val();if(!e)return alert(crane_js_l10n.sidebar_name_empty),!1;o.ajax({type:"POST",url:ajaxurl,data:{action:"crane_add_sidebar",name:e,_wpnonce:this.nonce},success:function(e){"ok"!==e?alert(e):location.reload()}})},deleteSidebar:function(e){if(0==confirm(crane_js_l10n.delete_sidebar))return!1;var t=o(e.currentTarget).parent(".sidebar-crane-custom-sidebar"),a=t.find(".sidebar-name h3 , .sidebar-name h2"),n=t.children().first().attr("id"),r=o.trim(a.text());if(!n)return!1;o.ajax({type:"POST",url:ajaxurl,data:{action:"crane_delete_sidebar",name:r,sidebar_id:n,_wpnonce:this.nonce},success:function(e){"ok"==e&&t.slideUp(200,function(){o(".widget-control-remove",t).trigger("click"),t.remove()})}})},editSidebar:function(e){var t=o(e.currentTarget).parent(".sidebar-crane-custom-sidebar"),a=t.find(".sidebar-name h3 , .sidebar-name h2"),n=t.children().first().attr("id"),r=o.trim(a.text()),i=prompt(crane_js_l10n.sidebar_new_name,r);return i?!!n&&void o.ajax({type:"POST",url:ajaxurl,data:{action:"crane_rename_sidebar",name:i,sidebar_id:n,_wpnonce:this.nonce},success:function(e){"ok"!==e?alert(e):a.text(i)}}):(alert(crane_js_l10n.sidebar_name_empty),!1)},addNewBtn:function(){o(".crane-sb__name-wrapper").show(250),o(".crane-sb__add-new").hide(150)}},o(function(){new e})}(jQuery),function(s){"use strict";s(function(){function e(){s(".term_meta__template_depend").addClass("crane-hide_by_template");var e=s("#term_meta__template").val();""!==e&&s(".crane-is-"+e).removeClass("crane-hide_by_template")}s(".crane-color-picker").wpColorPicker(),s(".crane-form-meta-type__number").each(function(){var e=s(this),t=e.find(".crane-form-meta-type__number-default"),a=e.find(".crane-form-meta-type__number-value"),n=e.find(".crane-form-meta-type__number-main");"default"==n.val()?(t.prop("checked",!0),a.hide(),n.val("default")):(t.prop("checked",!1),a.show(),n.val(a.val())),t.on("change",function(){a.toggle(),s(this).prop("checked")?(a.hide(),n.val("default")):(a.show(),n.val(a.val()))}),a.on("change",function(){n.val(s(this).val())})}),s(".crane-form-meta-type__color").each(function(){var e=s(this),t=e.find(".crane-form-meta-type__color-default"),a=e.find(".crane-form-meta-type__color-value"),n=e.find(".crane-form-meta-type__color-value-wrapper");"default"==a.val()?(t.prop("checked",!0),n.hide()):(t.prop("checked",!1),n.show()),t.on("change",function(){n.toggle(),s(this).prop("checked")?(n.hide(),a.val("default")):n.show()})}),s(".crane-form-meta-type__text").each(function(){var e=s(this),t=e.find(".crane-form-meta-type__text-default"),a=e.find(".crane-form-meta-type__text-value"),n=e.find(".crane-form-meta-type__text-value-wrapper");"default"==a.val()?(t.prop("checked",!0),n.hide()):(t.prop("checked",!1),n.show()),t.on("change",function(){n.toggle(),s(this).prop("checked")?(n.hide(),a.val("default")):(n.show(),a.val(""))})}),s(".crane-form-meta-type__padding").each(function(){var e=s(this),t=e.find(".crane-form-meta-type__padding-default"),a=e.find(".crane-form-meta-type__padding-values"),n=e.find(".crane-form-meta-type__padding-value--top"),r=e.find(".crane-form-meta-type__padding-value--bottom"),i=e.find(".crane-form-meta-type__padding-value--units"),o=e.find(".crane-form-meta-type__padding-main");"default"==o.val()?(t.prop("checked",!0),a.hide(),o.val("default")):(t.prop("checked",!1),a.show(),o.val(n.val()+"|"+r.val()+"|"+i.val())),t.on("change",function(){a.toggle(),s(this).prop("checked")?(a.hide(),o.val("default")):(a.show(),o.val(n.val()+"|"+r.val()+"|"+i.val()))}),n.on("change",function(){o.val(n.val()+"|"+r.val()+"|"+i.val())}),r.on("change",function(){o.val(n.val()+"|"+r.val()+"|"+i.val())}),i.on("change",function(){o.val(n.val()+"|"+r.val()+"|"+i.val())})}),s("#term_meta__custom_options").on("change",function(){s(".term_meta__custom_options__field").toggleClass("crane-hide_custom"),s(this).prop("checked")?s("#term_meta__custom_options__val").val("1"):s("#term_meta__custom_options__val").val("0")}),"0"==s("#term_meta__custom_options__val").val()?s(".term_meta__custom_options__field").addClass("crane-hide_custom"):s("#term_meta__custom_options").prop("checked",!0),s("#term_meta__has_sidebar").on("change",function(){s(".term_meta__sidebar").toggleClass("crane-hide_sidebar","none"==s("#term_meta__has_sidebar").val()||"default"==s("#term_meta__has_sidebar").val())}),"none"!=s("#term_meta__has_sidebar").val()&&"default"!=s("#term_meta__has_sidebar").val()||s(".term_meta__sidebar").addClass("crane-hide_sidebar"),s("#crane_term_meta__sortable").on("change",function(){s(".term_meta__sortable_depend").toggleClass("crane-hide_sidebar","0"==s("#crane_term_meta__sortable").val()||"default"==s("#crane_term_meta__sortable").val())}),"none"!=s("#crane_term_meta__sortable").val()&&"default"!=s("#crane_term_meta__sortable").val()||s(".term_meta__sortable_depend").addClass("crane-hide_sidebar"),s("#crane_term_meta__sortable_style").on("change",function(){s(".term_meta__sortable_style_depend").toggleClass("crane-hide_sidebar","outline"!==s("#crane_term_meta__sortable_style").val())}),"outline"!==s("#crane_term_meta__sortable_style").val()&&s(".term_meta__sortable_style_depend").addClass("crane-hide_sidebar"),s("#crane_term_meta__pagination_type").on("change",function(){s(".term_meta__pagination_type_depend").toggleClass("crane-hide_sidebar","show_more"!==s("#crane_term_meta__pagination_type").val())}),"show_more"!==s("#crane_term_meta__pagination_type").val()&&s(".term_meta__pagination_type_depend").addClass("crane-hide_sidebar"),s("#term_meta__template").on("change",function(){e()}),e(),s("#category-color-set").on("change",function(){s("#category-color-wrap").toggleClass("hide","custom"!=s("#category-color-set").val())}),"custom"!=s("#category-color-set").val()&&s("#category-color-wrap").addClass("hide"),s("#term_meta__layout").on("change",function(){s(".term_meta__masonry_depend").toggleClass("crane-hide_by_layout","masonry"!=s("#term_meta__layout").val()),s(".term_meta__grid_depend").toggleClass("crane-hide_by_layout","grid"!=s("#term_meta__layout").val())}),"masonry"!=s("#term_meta__layout").val()&&s(".term_meta__masonry_depend").addClass("crane-hide_by_layout"),"grid"!=s("#term_meta__layout").val()&&s(".term_meta__grid_depend").addClass("crane-hide_by_layout"),s("#term_meta__product_attributes").on("change",function(){var e,t;s("#term_meta__product_attributes__val").val((e=s("#term_meta__product_attributes"),t=[],e.each(function(){t.push(s(this).val())}),t))});var t=s("#term_meta__product_attributes__val").val();t&&s.each(t.split(","),function(e,t){s("#term_meta__product_attributes option[value='"+t+"']").prop("selected",!0)});var r=[],a=s(".crane-imgtag-upload-button"),n=s(".crane-imgtag-button-remove");a.on("click",function(e){e.preventDefault();var a=s(this),n=a.attr("id");r[n]||(r[n]=wp.media.frames.file_frame=wp.media({title:a.data("uploader_title"),button:{text:a.data("uploader_button_text")},multiple:!1}),r[n].on("select",function(){var e=r[n].state().get("selection").first().toJSON();s("#"+n+"-value").val(e.id);var t='<img src="'+e.url+'" style="max-width:'+crane_image_width_thumbnail+'px;" alt="" />';a.next("input").next(".crane-imgtag-image-preview").html(t)})),r[n].open()}),n.on("click",function(e){e.preventDefault();var t=s(this),a=t.prev("input").attr("id");t.next(".crane-imgtag-image-preview").html(""),s("#"+a+"-value").val(0)})})}(jQuery),function(e){"use strict";jQuery(function(t){var a,n;t(".crane-groovy-menu-select-wrapper .preset--current .preset-placeholder").on("click",function(){return a=t(this).closest(".preset--current"),(n=t(this).attr("data-modal-id"))&&t((n="#"+n)+"-preset-modal").modal("show"),!1}),t(".groovy-menu-redux-modal .preset:not(.preset--current) .preset-placeholder").on("click",function(){var e=t(this).closest(".preset");return a.find(".preset-placeholder img").attr("src",e.find("img").attr("src")),a.find(".preset-title__alpha").html(e.find(".preset-title__alpha").html()),a.data("id",e.data("id")),a.data("id",e.data("id")),t(n+"-value").val(e.data("id")),t(n+"-preset-modal").modal("hide"),a.closest(".grooni-metabox-row").find(".grooni-metabox-groovy-value").val(e.data("id")).change(),!1})})}(),function(e){"use strict";jQuery(function(o){function e(){o(".crane-add-image-sizes-group input").on("change",function(){var n=[],e=o(this).closest(".crane-add-image-sizes-wrapper");o.each(e.find(".crane-add-image-size-group-element"),function(e,t){var a={};a.id=o(this).data("id"),a.width=o(t).find('input[data-name="width"]').val(),a.height=o(t).find('input[data-name="height"]').val(),a.crop=o(t).find('input[data-name="crop"]').attr("checked")?1:0,n.push(a)}),e.find(".crane-image-sizes-value").val(JSON.stringify(n))})}o(".crane-del-image-size").on("click",function(){var a=o(this),n=a.closest(".crane-add-image-size-group-element").data("id"),e=o(".crane-image-sizes-value"),t=JSON.parse(e.val()),r=Array.from(t),i=o.grep(r,function(e){return e.id!==n});e.val(JSON.stringify(i)),o.each(t,function(e,t){t.id===n&&a.closest(".crane-add-image-size-group-element").remove()})}),o(".crane-add-more-size-btn").on("click",function(){o(this).parent().find(".crane-add-image-sizes-group").append("<div class='crane-add-image-size-group-element' data-id='"+Math.random().toString(36).substr(2,10)+"'><label>Width <input data-name='width' type='number' min='0' max='9999' value='600' required /></label><label>Height <input data-name='height' type='number' min='0' max='9999' value='600' required /></label><label>Crop image<input data-name='crop' type='checkbox' /></label><span class='crane-del-image-size button button-primary'>X</span></div>"),e()}),e()})}(),function(n){"use strict";n(function(){n(".gm-show-preset-preview").on("click",function(){var e=n(this).closest(".preset").data("id"),t=groovyMenuLocalize.GroovyMenuAdminUrl+"&action=preview&id="+e,a="#"+n(this).attr("data-showmodal");n(a).find(".modal-body-iframe").html('<iframe id="groovy-preview-iframe" frameborder="0" scrolling="no" width="100%" height="100%" src="'+t+'"></iframe>'),n(a).modal("show"),n("#preview-modal .modal-preview-name").html(n(this).closest(".preset").data("name"))}),n(".crane-groovy-menu-select-wrapper .close").on("click",function(){n(".preview-size-change").find(".active").removeClass("active"),n(".preview-sticky-change__tabs").find('[data-sticky="false"]').addClass("active"),n(".preview-color-change__tabs").find('[data-color="transparent"]').addClass("active"),n(".preview-size-change__tabs").find('[data-size="desktop"]').addClass("active"),n(this).closest(".modal-body").removeClass("iframe--size-tablet").addClass("iframe--size-desktop"),n(".modal-body-iframe").width("")})})}(jQuery);